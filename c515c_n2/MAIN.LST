C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 1   


C51 COMPILER V6.14, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\MAIN.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE .\MAIN.C LARGE DEBUG OBJECTEXTEND CODE LISTINCLUDE SYMBOLS

stmt level    source

   1          #include "regc515c.h"     	/* special function register declarations for C515C */
   1      =1  
   2      =1  /* (c) Copyright SIEMENS 1996 , All rights reserved. */
   3      =1  /*  Register Declarations for the C515C Processor    */
   4      =1  
   5      =1  /**********************/
   6      =1  /*  BYTE Register     */
   7      =1  sfr   P0     = 0x80;
   8      =1  sfr   SP     = 0x81;
   9      =1  sfr   DPL    = 0x82;
  10      =1  sfr   DPH    = 0x83;
  11      =1  sfr   WDTREL = 0x86;
  12      =1  sfr   PCON   = 0x87;
  13      =1  sfr   TCON   = 0x88;
  14      =1  sfr   TMOD   = 0x89;
  15      =1  sfr   TL0    = 0x8A;
  16      =1  sfr   TL1    = 0x8B;
  17      =1  sfr   TH0    = 0x8C;
  18      =1  sfr   TH1    = 0x8D;
  19      =1  
  20      =1  sfr   P1     = 0x90;
  21      =1  sfr   XPAGE  = 0x91;
  22      =1  sfr   DPSEL  = 0x92;
  23      =1  sfr   SSCCON = 0x93;
  24      =1  sfr   STB    = 0x94;
  25      =1  sfr   SRB    = 0x95;
  26      =1  sfr   SSCMOD = 0x96;
  27      =1  sfr   SCON   = 0x98;
  28      =1  sfr   SBUF   = 0x99;
  29      =1  sfr   IEN2   = 0x9A;
  30      =1  
  31      =1  sfr   P2     = 0xA0;
  32      =1  sfr   IEN0   = 0xA8;
  33      =1  sfr   IP0    = 0xA9;
  34      =1  sfr   SRELL  = 0xAA;
  35      =1  sfr   SCF    = 0xAB;
  36      =1  sfr   SCIEN  = 0xAC;
  37      =1  
  38      =1  sfr   P3     = 0xB0;
  39      =1  sfr   SYSCON = 0xB1;
  40      =1  sfr   IEN1   = 0xB8;
  41      =1  sfr   IP1    = 0xB9;
  42      =1  sfr   SRELH  = 0xBA;
  43      =1  
  44      =1  sfr   IRCON  = 0xC0;
  45      =1  sfr   CCEN   = 0xC1;
  46      =1  sfr   CCL1   = 0xC2;
  47      =1  sfr   CCH1   = 0xC3;
  48      =1  sfr   CCL2   = 0xC4;
  49      =1  sfr   CCH2   = 0xC5;
  50      =1  sfr   CCL3   = 0xC6;
  51      =1  sfr   CCH3   = 0xC7;
  52      =1  sfr   T2CON  = 0xC8;
  53      =1  sfr   CRCL   = 0xCA;
  54      =1  sfr   CRCH   = 0xCB;
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 2   

  55      =1  sfr   TL2    = 0xCC;
  56      =1  sfr   TH2    = 0xCD;
  57      =1                 
  58      =1  sfr   PSW    = 0xD0;
  59      =1  sfr   ADCON0 = 0xD8;
  60      =1  sfr   ADDATH = 0xD9;
  61      =1  sfr   ADDATL = 0xDA;
  62      =1  sfr   P6     = 0xDB;
  63      =1  sfr   ADCON1 = 0xDC;
  64      =1  sfr   P7     = 0xDD;
  65      =1  sfr   CCPL   = 0xDE;
  66      =1  sfr   CCPH   = 0xDF;
  67      =1  
  68      =1  sfr   ACC    = 0xE0;
  69      =1  sfr   P4     = 0xE8;
  70      =1  
  71      =1  sfr   B      = 0xF0;
  72      =1  sfr   P5     = 0xF8;
  73      =1  sfr   DIR5   = 0xF8;
  74      =1  
  75      =1  /*********************/
  76      =1  /* BIT Register      */
  77      =1  
  78      =1  /* TCON */
  79      =1  sbit  TF1    = 0x8F;
  80      =1  sbit  TR1    = 0x8E;
  81      =1  sbit  TF0    = 0x8D;
  82      =1  sbit  TR0    = 0x8C;
  83      =1  sbit  IE1    = 0x8B;
  84      =1  sbit  IT1    = 0x8A;
  85      =1  sbit  IE0    = 0x89;
  86      =1  sbit  IT0    = 0x88;
  87      =1  /* SCON */
  88      =1  sbit  SM0    = 0x9F;
  89      =1  sbit  SM1    = 0x9E;
  90      =1  sbit  SM2    = 0x9D;
  91      =1  sbit  REN    = 0x9C;
  92      =1  sbit  TB8    = 0x9B;
  93      =1  sbit  RB8    = 0x9A;
  94      =1  sbit  TI     = 0x99;
  95      =1  sbit  RI     = 0x98;
  96      =1  /* IEN0 */
  97      =1  sbit  EAL    = 0xAF;
  98      =1  sbit  WDT    = 0xAE;
  99      =1  sbit  ET2    = 0xAD;
 100      =1  sbit  ES     = 0xAC;
 101      =1  sbit  ET1    = 0xAB;
 102      =1  sbit  EX1    = 0xAA;
 103      =1  sbit  ET0    = 0xA9;
 104      =1  sbit  EX0    = 0xA8;
 105      =1  /* IEN1 */
 106      =1  sbit  EXEN2  = 0xBF;
 107      =1  sbit  SWDT   = 0xBE;
 108      =1  sbit  EX6M   = 0xBD;
 109      =1  sbit  EX5    = 0xBC;
 110      =1  sbit  EX4    = 0xBB;
 111      =1  sbit  EX3    = 0xBA;
 112      =1  sbit  EX2    = 0xB9;
 113      =1  sbit  EADC   = 0xB8;
 114      =1  /* IEN2 */
 115      =1  sbit  ECAN   = 0x9B;
 116      =1  sbit  ESSC   = 0x9C;
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 3   

 117      =1  sbit  EX7    = 0x9E;
 118      =1  sbit  EX8    = 0x9F;
 119      =1  /* P3 */
 120      =1  sbit  RD     = 0xB7;
 121      =1  sbit  WR     = 0xB6;
 122      =1  sbit  T1     = 0xB5;
 123      =1  sbit  T0     = 0xB4;
 124      =1  sbit  INT1   = 0xB3;
 125      =1  sbit  INT0   = 0xB2;
 126      =1  sbit  TXD    = 0xB1;
 127      =1  sbit  RXD    = 0xB0;
 128      =1  /* T2CON */
 129      =1  sbit  T2PS   = 0xCF;
 130      =1  sbit  I3FR   = 0xCE;
 131      =1  sbit  I2FR   = 0xCD;
 132      =1  sbit  T2R1   = 0xCC;
 133      =1  sbit  T2R0   = 0xCB;
 134      =1  sbit  T2CM   = 0xCA;
 135      =1  sbit  T2L1   = 0xC9;
 136      =1  sbit  T2I0   = 0xC8;
 137      =1  /* IRCON */
 138      =1  sbit  EXF2   = 0xC7;
 139      =1  sbit  TF2    = 0xC6;
 140      =1  sbit  IEX6   = 0xC5;
 141      =1  sbit  IEX5   = 0xC4;
 142      =1  sbit  IEX4   = 0xC3;
 143      =1  sbit  IEX3   = 0xC2;
 144      =1  sbit  IEX2   = 0xC1;
 145      =1  sbit  IADC   = 0xC0;
 146      =1  /* ADCON0 */
 147      =1  sbit  BD     = 0xDF;
 148      =1  sbit  CLK    = 0xDE;
 149      =1  sbit  ADEX   = 0xDD;
 150      =1  sbit  BSY    = 0xDC;
 151      =1  sbit  ADM    = 0xDB;
 152      =1  sbit  MX2    = 0xDA;
 153      =1  sbit  MX1    = 0xD9;
 154      =1  sbit  MX0    = 0xD8;
 155      =1  /* PSW */
 156      =1  sbit  CY     = 0xD7;
 157      =1  sbit  AC     = 0xD6;
 158      =1  sbit  F0     = 0xD5;
 159      =1  sbit  RS1    = 0xD4;
 160      =1  sbit  RS0    = 0xD3;
 161      =1  sbit  OV     = 0xD2;
 162      =1  sbit  F1     = 0xD1;
 163      =1  sbit  P      = 0xD0;
 164      =1  /*  P4    */
 165      =1  sbit  RXDC   = 0xEF;
 166      =1  sbit  TXDC   = 0xEE;
 167      =1  sbit  INT8   = 0xED;
 168      =1  sbit  SLS    = 0xEC;
 169      =1  sbit  STO    = 0xEB;
 170      =1  sbit  SRI    = 0xEA;
 171      =1  sbit  SCLK   = 0xE9;
 172      =1  sbit  ADST   = 0xE8;
 173      =1  
 174      =1  
   2          #include "canreg.h"	        /* can definition file */
   1      =1  #define NODE_ID 0x02
   2      =1  
   3      =1  // error
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 4   

   4      =1  #define BUSOFF 0xFF
   5      =1  #define STUFF_ERROR 0xF0
   6      =1  #define FORM_ERROR 0xF1
   7      =1  #define ACK_ERROR 0xF2
   8      =1  #define CRC_ERROR 0xF3
   9      =1  
  10      =1  
  11      =1  extern unsigned char pdata canreg[256];
  12      =1  
  13      =1  /****************************/
  14      =1  /* CAN Register Declaration */
  15      =1  /* CAN Control Registers    */   
  16      =1  
  17      =1  #define 	CR	 canreg[  0]
  18      =1  #define  	SR	 canreg[  1]
  19      =1  #define  	IR	 canreg[  2]
  20      =1  #define  	BTR0   	 canreg[  4]
  21      =1  #define  	BTR1   	 canreg[  5]
  22      =1  #define  	GMS0   	 canreg[  6]
  23      =1  #define  	GMS1   	 canreg[  7]
  24      =1  #define  	UGML0  	 canreg[  8]
  25      =1  #define  	UGML1  	 canreg[  9]
  26      =1  #define  	LGML0  	 canreg[ 10]
  27      =1  #define  	LGML1  	 canreg[ 11]
  28      =1  #define  	UMLM0  	 canreg[ 12]
  29      =1  #define  	UMLM1  	 canreg[ 13]
  30      =1  #define  	LMLM0  	 canreg[ 14]
  31      =1  #define  	LMLM1  	 canreg[ 15]
  32      =1  
  33      =1  /* CAN Message 1 Registers */ 
  34      =1  #define  	MCR0_M1	 canreg[ 16]
  35      =1  #define  	MCR1_M1	 canreg[ 17]
  36      =1  #define  	UAR0_M1	 canreg[ 18]
  37      =1  #define  	UAR1_M1	 canreg[ 19]
  38      =1  #define  	LAR0_M1	 canreg[ 20]
  39      =1  #define  	LAR1_M1	 canreg[ 21]
  40      =1  #define  	MCFG_M1	 canreg[ 22]
  41      =1  #define  	DB0_M1 	 canreg[ 23]
  42      =1  #define  	DB1_M1 	 canreg[ 24]
  43      =1  #define  	DB2_M1 	 canreg[ 25]
  44      =1  #define  	DB3_M1 	 canreg[ 26]
  45      =1  #define  	DB4_M1 	 canreg[ 27]
  46      =1  #define  	DB5_M1 	 canreg[ 28]
  47      =1  #define  	DB6_M1 	 canreg[ 29]
  48      =1  #define  	DB7_M1 	 canreg[ 30]
  49      =1  
  50      =1  /* CAN Message 2 Registers */ 
  51      =1  #define  	MCR0_M2	 canreg[ 32]
  52      =1  #define  	MCR1_M2	 canreg[ 33]
  53      =1  #define  	UAR0_M2	 canreg[ 34]
  54      =1  #define  	UAR1_M2	 canreg[ 35]
  55      =1  #define  	LAR0_M2	 canreg[ 36]
  56      =1  #define  	LAR1_M2	 canreg[ 37]
  57      =1  #define  	MCFG_M2	 canreg[ 38]
  58      =1  #define  	DB0_M2 	 canreg[ 39]
  59      =1  #define  	DB1_M2 	 canreg[ 40]
  60      =1  #define  	DB2_M2 	 canreg[ 41]
  61      =1  #define  	DB3_M2 	 canreg[ 42]
  62      =1  #define  	DB4_M2 	 canreg[ 43]
  63      =1  #define  	DB5_M2 	 canreg[ 44]
  64      =1  #define  	DB6_M2 	 canreg[ 45]
  65      =1  #define  	DB7_M2 	 canreg[ 46]
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 5   

  66      =1  
  67      =1  /* CAN Message 3 Registers */ 
  68      =1  #define  	MCR0_M3	 canreg[ 48]
  69      =1  #define  	MCR1_M3	 canreg[ 49]
  70      =1  #define  	UAR0_M3	 canreg[ 50]
  71      =1  #define  	UAR1_M3	 canreg[ 51]
  72      =1  #define  	LAR0_M3  canreg[ 52]
  73      =1  #define  	LAR1_M3	 canreg[ 53]
  74      =1  #define  	MCFG_M3	 canreg[ 54]
  75      =1  #define  	DB0_M3	 canreg[ 55]
  76      =1  #define  	DB1_M3	 canreg[ 56]
  77      =1  #define  	DB2_M3	 canreg[ 57]
  78      =1  #define  	DB3_M3	 canreg[ 58]
  79      =1  #define  	DB4_M3	 canreg[ 59]
  80      =1  #define  	DB5_M3	 canreg[ 60]
  81      =1  #define  	DB6_M3	 canreg[ 61]
  82      =1  #define  	DB7_M3	 canreg[ 62]
  83      =1  
  84      =1  /* CAN Message 4 Registers */ 
  85      =1  #define  	MCR0_M4	 canreg[ 64]
  86      =1  #define  	MCR1_M4	 canreg[ 65]
  87      =1  #define  	UAR0_M4	 canreg[ 66]
  88      =1  #define  	UAR1_M4	 canreg[ 67]
  89      =1  #define  	LAR0_M4	 canreg[ 68]
  90      =1  #define  	LAR1_M4	 canreg[ 69]
  91      =1  #define  	MCFG_M4	 canreg[ 70]
  92      =1  #define  	DB0_M4	 canreg[ 71]
  93      =1  #define  	DB1_M4	 canreg[ 72]
  94      =1  #define  	DB2_M4	 canreg[ 73]
  95      =1  #define  	DB3_M4	 canreg[ 74]
  96      =1  #define  	DB4_M4	 canreg[ 75]
  97      =1  #define  	DB5_M4	 canreg[ 76]
  98      =1  #define  	DB6_M4	 canreg[ 77]
  99      =1  #define  	DB7_M4	 canreg[ 78]
 100      =1  
 101      =1  /* CAN Message 5 Registers */ 
 102      =1  #define  	MCR0_M5	 canreg[ 80]
 103      =1  #define  	MCR1_M5	 canreg[ 81]
 104      =1  #define  	UAR0_M5	 canreg[ 82]
 105      =1  #define  	UAR1_M5	 canreg[ 83]
 106      =1  #define  	LAR0_M5	 canreg[ 84]
 107      =1  #define  	LAR1_M5	 canreg[ 85]
 108      =1  #define  	MCFG_M5	 canreg[ 86]
 109      =1  #define  	DB0_M5	 canreg[ 87]
 110      =1  #define  	DB1_M5	 canreg[ 88]
 111      =1  #define  	DB2_M5	 canreg[ 89]
 112      =1  #define  	DB3_M5	 canreg[ 90]
 113      =1  #define  	DB4_M5	 canreg[ 91]
 114      =1  #define  	DB5_M5	 canreg[ 92]
 115      =1  #define  	DB6_M5	 canreg[ 93]
 116      =1  #define  	DB7_M5	 canreg[ 94]
 117      =1  
 118      =1  /* CAN Message 6 Registers */ 
 119      =1  #define  	MCR0_M6	 canreg[ 96]
 120      =1  #define  	MCR1_M6	 canreg[ 97]
 121      =1  #define  	UAR0_M6	 canreg[ 98]
 122      =1  #define  	UAR1_M6	 canreg[ 99]
 123      =1  #define  	LAR0_M6	 canreg[100]
 124      =1  #define  	LAR1_M6	 canreg[101]
 125      =1  #define  	MCFG_M6	 canreg[102]
 126      =1  #define  	DB0_M6	 canreg[103]
 127      =1  #define  	DB1_M6	 canreg[104]
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 6   

 128      =1  #define  	DB2_M6	 canreg[105]
 129      =1  #define  	DB3_M6	 canreg[106]
 130      =1  #define  	DB4_M6	 canreg[107]
 131      =1  #define  	DB5_M6	 canreg[108]
 132      =1  #define  	DB6_M6	 canreg[109]
 133      =1  #define  	DB7_M6	 canreg[110]
 134      =1  
 135      =1  /* CAN Message 7 Registers */ 
 136      =1  #define  	MCR0_M7	 canreg[112]
 137      =1  #define  	MCR1_M7	 canreg[113]
 138      =1  #define  	UAR0_M7	 canreg[114]
 139      =1  #define  	UAR1_M7	 canreg[115]
 140      =1  #define  	LAR0_M7	 canreg[116]
 141      =1  #define  	LAR1_M7	 canreg[117]
 142      =1  #define  	MCFG_M7	 canreg[118]
 143      =1  #define  	DB0_M7	 canreg[119]
 144      =1  #define  	DB1_M7	 canreg[120]
 145      =1  #define  	DB2_M7	 canreg[121]
 146      =1  #define  	DB3_M7	 canreg[122]
 147      =1  #define  	DB4_M7	 canreg[123]
 148      =1  #define  	DB5_M7	 canreg[124]
 149      =1  #define  	DB6_M7	 canreg[125]
 150      =1  #define  	DB7_M7	 canreg[126]
 151      =1  
 152      =1  /* CAN Message 8 Registers */ 
 153      =1  #define  	MCR0_M8	 canreg[128]
 154      =1  #define  	MCR1_M8	 canreg[129]
 155      =1  #define  	UAR0_M8	 canreg[130]
 156      =1  #define  	UAR1_M8	 canreg[131]
 157      =1  #define  	LAR0_M8	 canreg[132]
 158      =1  #define  	LAR1_M8	 canreg[133]
 159      =1  #define  	MCFG_M8	 canreg[134]
 160      =1  #define  	DB0_M8	 canreg[135]
 161      =1  #define  	DB1_M8	 canreg[136]
 162      =1  #define  	DB2_M8	 canreg[137]
 163      =1  #define  	DB3_M8	 canreg[138]
 164      =1  #define  	DB4_M8	 canreg[139]
 165      =1  #define  	DB5_M8	 canreg[130]
 166      =1  #define  	DB6_M8	 canreg[131]
 167      =1  #define  	DB7_M8	 canreg[132]
 168      =1  
 169      =1  /* CAN Message 9 Registers */ 
 170      =1  #define  	MCR0_M9	 canreg[144]
 171      =1  #define  	MCR1_M9	 canreg[145]
 172      =1  #define  	UAR0_M9	 canreg[146]
 173      =1  #define  	UAR1_M9	 canreg[147]
 174      =1  #define  	LAR0_M9	 canreg[148]
 175      =1  #define  	LAR1_M9	 canreg[149]
 176      =1  #define  	MCFG_M9	 canreg[150]
 177      =1  #define  	DB0_M9	 canreg[151]
 178      =1  #define  	DB1_M9	 canreg[152]
 179      =1  #define  	DB2_M9	 canreg[153]
 180      =1  #define  	DB3_M9	 canreg[154]
 181      =1  #define  	DB4_M9	 canreg[155]
 182      =1  #define  	DB5_M9	 canreg[156]
 183      =1  #define  	DB6_M9	 canreg[157]
 184      =1  #define  	DB7_M9	 canreg[158]
 185      =1  
 186      =1  /* CAN Message 10 Registers */ 
 187      =1  #define     MCR0_M10  canreg[160]
 188      =1  #define     MCR1_M10  canreg[161]
 189      =1  #define     UAR0_M10  canreg[162]
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 7   

 190      =1  #define     UAR1_M10  canreg[163]
 191      =1  #define     LAR0_M10  canreg[164]
 192      =1  #define     LAR1_M10  canreg[165]
 193      =1  #define     MCFG_M10  canreg[166]
 194      =1  #define     DB0_M10   canreg[167]
 195      =1  #define     DB1_M10   canreg[168]
 196      =1  #define     DB2_M10   canreg[169]
 197      =1  #define     DB3_M10   canreg[170]
 198      =1  #define     DB4_M10   canreg[171]
 199      =1  #define     DB5_M10   canreg[172]
 200      =1  #define     DB6_M10   canreg[173]
 201      =1  #define     DB7_M10   canreg[174]
 202      =1  
 203      =1  /* CAN Message 11 Registers */ 
 204      =1  #define     MCR0_M11  canreg[176]
 205      =1  #define     MCR1_M11  canreg[177]
 206      =1  #define     UAR0_M11  canreg[178]
 207      =1  #define     UAR1_M11  canreg[179]
 208      =1  #define     LAR0_M11  canreg[180]
 209      =1  #define     LAR1_M11  canreg[181]
 210      =1  #define     MCFG_M11  canreg[182]
 211      =1  #define     DB0_M11   canreg[183]
 212      =1  #define     DB1_M11   canreg[184]
 213      =1  #define     DB2_M11   canreg[185]
 214      =1  #define     DB3_M11   canreg[186]
 215      =1  #define     DB4_M11   canreg[187]
 216      =1  #define     DB5_M11   canreg[188]
 217      =1  #define     DB6_M11   canreg[189]
 218      =1  #define     DB7_M11   canreg[190]
 219      =1  
 220      =1  /* CAN Message 12 Registers */ 
 221      =1  #define     MCR0_M12  canreg[192]
 222      =1  #define     MCR1_M12  canreg[193]
 223      =1  #define     UAR0_M12  canreg[194]
 224      =1  #define     UAR1_M12  canreg[195]
 225      =1  #define     LAR0_M12  canreg[196]
 226      =1  #define     LAR1_M12  canreg[197]
 227      =1  #define     MCFG_M12  canreg[198]
 228      =1  #define     DB0_M12   canreg[199]
 229      =1  #define     DB1_M12   canreg[200]
 230      =1  #define     DB2_M12   canreg[201]
 231      =1  #define     DB3_M12   canreg[202]
 232      =1  #define     DB4_M12   canreg[203]
 233      =1  #define     DB5_M12   canreg[204]
 234      =1  #define     DB6_M12   canreg[205]
 235      =1  #define     DB7_M12   canreg[206]
 236      =1  
 237      =1  /* CAN Message 13 Registers */ 
 238      =1  #define     MCR0_M13  canreg[208]
 239      =1  #define     MCR1_M13  canreg[209]
 240      =1  #define     UAR0_M13  canreg[210]
 241      =1  #define     UAR1_M13  canreg[211]
 242      =1  #define     LAR0_M13  canreg[212]
 243      =1  #define     LAR1_M13  canreg[213]
 244      =1  #define     MCFG_M13  canreg[214]
 245      =1  #define     DB0_M13   canreg[215]
 246      =1  #define     DB1_M13   canreg[216]
 247      =1  #define     DB2_M13   canreg[217]
 248      =1  #define     DB3_M13   canreg[218]
 249      =1  #define     DB4_M13   canreg[219]
 250      =1  #define     DB5_M13   canreg[220]
 251      =1  #define     DB6_M13   canreg[221]
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 8   

 252      =1  #define     DB7_M13   canreg[222]
 253      =1  
 254      =1  /* CAN Message 14 Registers */ 
 255      =1  #define     MCR0_M14  canreg[224]
 256      =1  #define     MCR1_M14  canreg[225]
 257      =1  #define     UAR0_M14  canreg[226]
 258      =1  #define     UAR1_M14  canreg[227]
 259      =1  #define     LAR0_M14  canreg[228]
 260      =1  #define     LAR1_M14  canreg[229]
 261      =1  #define     MCFG_M14  canreg[230]
 262      =1  #define     DB0_M14   canreg[231]
 263      =1  #define     DB1_M14   canreg[232]
 264      =1  #define     DB2_M14   canreg[233]
 265      =1  #define     DB3_M14   canreg[234]
 266      =1  #define     DB4_M14   canreg[235]
 267      =1  #define     DB5_M14   canreg[236]
 268      =1  #define     DB6_M14   canreg[237]
 269      =1  #define     DB7_M14   canreg[238]
 270      =1  
 271      =1  /* CAN Message 15 Registers */ 
 272      =1  #define     MCR0_M15  canreg[240]
 273      =1  #define     MCR1_M15  canreg[241]
 274      =1  #define     UAR0_M15  canreg[242]
 275      =1  #define     UAR1_M15  canreg[243]
 276      =1  #define     LAR0_M15  canreg[244] 
 277      =1  #define     LAR1_M15  canreg[245]
 278      =1  #define     MCFG_M15  canreg[246]
 279      =1  #define     DB0_M15   canreg[247]
 280      =1  #define     DB1_M15   canreg[248]
 281      =1  #define     DB2_M15   canreg[249]
 282      =1  #define     DB3_M15   canreg[250]
 283      =1  #define     DB4_M15   canreg[251]
 284      =1  #define     DB5_M15   canreg[252]
 285      =1  #define     DB6_M15   canreg[253]
 286      =1  #define     DB7_M15   canreg[254]
 287      =1  
   3          #include "led.h"
   1      =1  #define P4_0 ADST
   2      =1  #define P4_1 SCLK
   3      =1  #define P4_2 SRI
   4      =1  #define P4_3 STO
   5      =1  #define P4_4 SLS
   6      =1  #define P4_5 INT8
   7      =1  #define P4_6 TXDC
   8      =1  #define P4_7 RXDC
   9      =1  
  10      =1  void Init_LED();
   4          #include "slip.h"
   1      =1  int SLIP_Encode_Frame(unsigned char *in, int len, unsigned char *out);
   2      =1  int SLIP_Decode_Frame(unsigned char c, unsigned char *outbuf);
   5          #include "crc.h"
   1      =1  unsigned short calc_crc(unsigned char *buf, int len);
   2      =1  int check_crc(unsigned char *buf, int len);
   6          #include "can.h"
   1      =1  #include "uart.h"
   1      =2  /* 1st byte : functional group */
   2      =2  #define REGISTER_DISPLAY 0x00
   3      =2  #define REGISTER_SET 0x01
   4      =2  #define CANMSG_TRANSMIT 0x02
   5      =2  #define CANMSG_DATASET  0x03
   6      =2  #define CAN_RESET      0x04
   7      =2  
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 9   

   8      =2  #define CAN_REQUEST 0x10
   9      =2  #define CAN_RESPONSE 0x20
  10      =2  
  11      =2  #define NODE_START 0xFF
  12      =2  
  13      =2  
  14      =2  /* 2nd byte : REGISTER ID     */
  15      =2  #define GENERAL_REGISTER 0x00
  16      =2  #define MSG_OBJECT1 0x01
  17      =2  #define MSG_OBJECT2 0x02
  18      =2  #define MSG_OBJECT3 0x03
  19      =2  #define MSG_OBJECT4 0x04
  20      =2  #define MSG_OBJECT5 0x05
  21      =2  #define MSG_OBJECT6 0x06
  22      =2  #define MSG_OBJECT7 0x07
  23      =2  #define MSG_OBJECT8 0x08
  24      =2  #define MSG_OBJECT9 0x09
  25      =2  #define MSG_OBJECTA 0x0A
  26      =2  #define MSG_OBJECTB 0x0B
  27      =2  #define MSG_OBJECTC 0x0C
  28      =2  #define MSG_OBJECTD 0x0D
  29      =2  #define MSG_OBJECTE 0x0E
  30      =2  #define MSG_OBJECTF 0x0F
  31      =2  
  32      =2  /*3rd byte : show all or show single */
  33      =2  #define SHOW_ALL  0xFF
  34      =2  
  35      =2  
  36      =2  typedef struct{
  37      =2  	unsigned char flag;
  38      =2  	unsigned int len;
  39      =2  	unsigned char rdata[30];
  40      =2  } UART_MSG;
  41      =2  
  42      =2  void Init_UART();
  43      =2  unsigned char ReadChar();
  44      =2  void WriteChar(unsigned char Data);
  45      =2  void TransmitMessage(unsigned char* msg, int len);void create_error_msg(unsigned char *msg);
   2      =1  
   3      =1  // message identifier
   4      =1  #define MSG_ID_DATA_ALL 0x1000
   5      =1  #define MSG_ID_DATA_NODE1 0x1020
   6      =1  #define MSG_ID_DATA_NODE2 0x1040
   7      =1  #define MSG_ID_DATA_NODE3 0X1060
   8      =1  
   9      =1  
  10      =1  void Init_CAN();
  11      =1  void canmsg_transmit(int index);
  12      =1  void Transmit_CAN_MSG(unsigned char *msg, int len);
  13      =1  void Get_Receive_Message(UART_MSG *RecvData, int index);
   7          #include "timer.h"
   1      =1  void Init_Timer();
   8          
   9          
  10          //recv_data[0] = REGISTER_DISPLAY , recv_data[1] = register_set ID  - from 0 to 15
  11          void register_display(unsigned char* recv_data , int len)
  12          {
  13   1      	unsigned char tx_buf[30]; //tx_buf[0] = ID
  14   1      	int tx_len = 0;
  15   1      	int offset = 0;
  16   1      	int i;
  17   1      	if (len <2)  //2 is minimum length
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 10  

  18   1      	{
  19   2      		return;
  20   2      	}
  21   1      
  22   1      	if (recv_data[1] > 15)  //general register: 0, message object : 1 ~ 15 
  23   1      	{
  24   2      		return;
  25   2      	}
  26   1      
  27   1      	switch(recv_data[1])  
  28   1      	{
  29   2      		case GENERAL_REGISTER:
  30   2      			if (recv_data[2] == SHOW_ALL)
  31   2      			{
  32   3      				tx_buf[0] = GENERAL_REGISTER; //0
  33   3      				for (i = 0; i< 16; i++)
  34   3      				{
  35   4      					tx_buf[i+1] = canreg[i];    
  36   4      				}
  37   3      				tx_len = 17;
  38   3      			}
  39   2      			else
  40   2      			{
  41   3      				if ((recv_data[2] >= 0)&& (recv_data[2] <= 0x0f))
  42   3      				{
  43   4      					offset = recv_data[2];
  44   4      					tx_buf[0] = canreg[offset];
  45   4      					tx_len = 1;
  46   4      				}
  47   3      			}
  48   2      			break;
  49   2      		default:
  50   2      			tx_len = 17;
  51   2      			offset = recv_data[1] * 16;
  52   2      			tx_buf[0] = recv_data[1]; // reg ID
  53   2      			for (i = 0; i < 16; i++)
  54   2      			{
  55   3      				tx_buf[i+1] = canreg[offset + i];
  56   3      			}
  57   2      			break;
  58   2      	}
  59   1      
  60   1      	if (tx_len > 0)
  61   1      	{
  62   2      		TransmitMessage(tx_buf, tx_len);
  63   2      	}
  64   1      
  65   1      }
  66          
  67          // recv_data[0] : SET (1)   recv_data[1] : ID (0 ~ 15)  recv_data[2] = 0xFF  
  68          // recv_data[0] : SET (1)   recv_data[1] : ID (0 ~ 15)  recv_data[2] = offset, recv_data[3][4] value
  69          void register_set(unsigned char* recv_data, int len)
  70          {
  71   1      	int offset = 0;
  72   1      
  73   1      	int i;
  74   1      	
  75   1      	if (len < 4)
  76   1      	{
  77   2      		return;
  78   2      	}
  79   1      
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 11  

  80   1      	if (recv_data[1] > 15)
  81   1      	{
  82   2      		return;
  83   2      	}
  84   1      	
  85   1      	offset = recv_data[1] * 16;
  86   1      
  87   1      	if (recv_data[2] == 0xFF)  // send all
  88   1      	{
  89   2      		for (i = 0; i < 16; i++)
  90   2      		{
  91   3      			// data´Â recv_data[3]ºÎÅÍ Á¸À
  92   3      			canreg[offset + i] = recv_data[3+i];
  93   3      			if(offset == 0 && i == 4){
  94   4      				canreg[offset] = 0x41;
  95   4      				canreg[offset + i] = recv_data[3+i];
  96   4      				i++;
  97   4      				canreg[offset + i] = recv_data[3+i];
  98   4      				canreg[offset] = recv_data[3];
  99   4      			}
 100   3      		}
 101   2      	}
 102   1      	// GMS0 and GMS1 set
 103   1      	else
 104   1      	{
 105   2      		offset = offset + recv_data[2];     // general : mask set, message object : ID set
 106   2      		canreg[offset] = recv_data[3];  
 107   2      		canreg[offset + 1] = recv_data[4];
 108   2      	}
 109   1      }
 110          
 111          //recv_data[0] = 0x03 , recv_data[1] = msg obj ID, recv_data[2] = mcfg recv_data[3...9] = data byte
 112          void canmsg_data_set(unsigned char* recv_data , int len)
 113          {
 114   1      	int offset = 0;
 115   1      	int data_offset = 0;
 116   1      	int i;
 117   1      	
 118   1      	if ((recv_data[1] > 15)||(recv_data[1] == 0))
 119   1      	{
 120   2      		return;
 121   2      	}
 122   1      	if (len > 100)
 123   1      	{
 124   2      		return;
 125   2      	}
 126   1      
 127   1      	offset = recv_data[1] * 16;
 128   1      	data_offset = offset + 7;
 129   1      
 130   1      
 131   1      	canreg[offset] = 0x55;
 132   1      	canreg[offset + 1] = 0x59;  //mcr1   don't send while updating data
 133   1      	
 134   1      	canreg[offset + 6] = recv_data[2];  //mcfg set
 135   1      
 136   1      	for (i = 0; i < 8; i++)
 137   1      	{
 138   2      		canreg[data_offset + i] = recv_data[3 + i];
 139   2      	}
 140   1      		
 141   1      	canreg[offset] = 0xA9;      //mcr0
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 12  

 142   1      	canreg[offset + 1] = 0xF6;  //mcr1
 143   1      }
 144          /*
 145          void Create_Position(int *px, int *py){
 146          	int x, y;
 147          	
 148          	if(m_pntCount < 6){
 149          		x = 731 + (21 * m_pntCount);
 150          		y = 305 + (21 * m_pntCount);
 151          	}
 152          	else if(m_pntCount >= 6 && m_pntCount < 12){
 153          		x = 857 - (21 * (m_pntCount - 6));
 154          		y = 431 + (21 * (m_pntCount - 6));
 155          	}
 156          	else if(m_pntCount >= 12 && m_pntCount < 18){
 157          		x = 731 - (21 * (m_pntCount - 12));
 158          		y = 557 - (21 * (m_pntCount - 12));
 159          	}
 160          	else if(m_pntCount >= 18 && m_pntCount < 24){
 161          		x = 605 + (21 * (m_pntCount - 18));
 162          		y = 431 - (21 * (m_pntCount - 18));
 163          	}
 164          	
 165          	m_pntCount++;
 166          	if(m_pntCount >= 24)
 167          		m_pntCount = 0;
 168          	
 169          	if(x >= 565 && x <= 895){
 170          		if(y >= 265 && y <= 595){
 171          			p->x = x;
 172          			p->y = y;
 173          		}
 174          	}
 175          }
 176          */
 177          void main()
 178          {
 179   1      	unsigned char xdata rx_buf[30];
 180   1      	int  rx_len = 0, tx_uart_count = 0;
 181   1      	extern unsigned char start;
 182   1      	unsigned char rx_char;
 183   1      	extern UART_MSG RecvData;
 184   1      	extern unsigned char Error_Buf[5];
 185   1      	extern int error_flag;
 186   1      	extern unsigned char alive_flag;
 187   1      	extern unsigned char alive_buf[3];
 188   1      
 189   1         	Init_UART();
 190   1      	Init_Timer();
 191   1      	Init_CAN();
 192   1      	Init_LED();
 193   1      
 194   1      	rx_char = 0x00;
 195   1      	while(!start) ;
 196   1      	while(1)
 197   1      	{
 198   2      		if(alive_flag == 1){
 199   3      			if(tx_uart_count > 3){
 200   4      				TR0 = 0;		// timer quit
 201   4      				tx_uart_count = 0;
 202   4      			}
 203   3      			else{
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 13  

 204   4      				TransmitMessage(alive_buf, 2);
 205   4      				alive_flag = 0;
 206   4      				tx_uart_count++;
 207   4      				P4_5 = ~P4_5;
 208   4      			}
 209   3      		}
 210   2      		if(error_flag == 1){
 211   3      //			TransmitMessage(Error_Buf, 2);
 212   3      			P4_4 = ~P4_4;
 213   3      			error_flag = 0;
 214   3      		}
 215   2      		if(RecvData.flag == 1){
 216   3      			TransmitMessage(RecvData.rdata, RecvData.len);
 217   3      			RecvData.flag = 0;
 218   3      			RecvData.len = 0;
 219   3      		}
 220   2      		if(RI){
 221   3      			rx_char = ReadChar();
 222   3      			rx_len = SLIP_Decode_Frame(rx_char, rx_buf);
 223   3      		    
 224   3      			if (rx_len > 0)
 225   3      			{
 226   4      			      	if (check_crc(rx_buf, rx_len) == 1)
 227   4      		     		{
 228   5      						switch(rx_buf[0])
 229   5      						{
 230   6      						case REGISTER_DISPLAY:
 231   6      							register_display(rx_buf, rx_len);
 232   6      							break;
 233   6      						case REGISTER_SET: 
 234   6      							register_set(rx_buf, rx_len);
 235   6      							break;
 236   6      						case CANMSG_TRANSMIT:
 237   6      							canmsg_transmit(rx_buf[1]);
 238   6      							break;
 239   6      						case CANMSG_DATASET:
 240   6      							canmsg_data_set(rx_buf, rx_len);
 241   6      							break;
 242   6      						case CAN_RESET :
 243   6      							Init_CAN();
 244   6      							break;
 245   6      						case CAN_REQUEST :
 246   6      							Transmit_CAN_MSG(rx_buf, rx_len - 2);
 247   6      							if(TR0 == 0)
 248   6      								TR0 = 1;
 249   6      							break;
 250   6      						case CAN_RESPONSE : 
 251   6      							if(TR0 == 0)
 252   6      								TR0 = 1;
 253   6      							if(rx_buf[3] == 0x2F)
 254   6      								tx_uart_count = 0;
 255   6      							Transmit_CAN_MSG(rx_buf, rx_len - 2);
 256   6      							break;
 257   6      						case NODE_START : 
 258   6      							if(TR0 == 0)
 259   6      								TR0 = 1;
 260   6      							tx_uart_count = 0;
 261   6      						}
 262   5      		    		}
 263   4      			       rx_len = 0;
 264   4      			}
 265   3      		}
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 14  

 266   2      	}
 267   1      }
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 15  

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION _register_display (BEGIN)
                                           ; SOURCE LINE # 11
;---- Variable 'recv_data' assigned to Register 'R1/R2/R3' ----
;---- Variable 'len' assigned to Register 'R4/R5' ----
                                           ; SOURCE LINE # 12
                                           ; SOURCE LINE # 14
0000 E4                CLR     A
0001 900000      R     MOV     DPTR,#tx_len
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 15
0007 A3                INC     DPTR
0008 F0                MOVX    @DPTR,A
0009 A3                INC     DPTR
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 17
000B C3                CLR     C
000C ED                MOV     A,R5
000D 9402              SUBB    A,#02H
000F EC                MOV     A,R4
0010 6480              XRL     A,#080H
0012 9480              SUBB    A,#080H
0014 5003              JNC     $ + 5H
0016 020000      R     LJMP    ?C0002
                                           ; SOURCE LINE # 18
                                           ; SOURCE LINE # 20
0019         ?C0001:
                                           ; SOURCE LINE # 22
0019 900001            MOV     DPTR,#01H
001C 120000      E     LCALL   ?C?CLDOPTR
001F FF                MOV     R7,A
0020 D3                SETB    C
0021 940F              SUBB    A,#0FH
0023 4003              JC      $ + 5H
0025 020000      R     LJMP    ?C0002
                                           ; SOURCE LINE # 23
                                           ; SOURCE LINE # 25
0028         ?C0003:
                                           ; SOURCE LINE # 27
0028 EF                MOV     A,R7
0029 6003              JZ      $ + 5H
002B 020000      R     LJMP    ?C0012
                                           ; SOURCE LINE # 28
                                           ; SOURCE LINE # 29
002E         ?C0005:
                                           ; SOURCE LINE # 30
002E 900002            MOV     DPTR,#02H
0031 120000      E     LCALL   ?C?CLDOPTR
0034 FF                MOV     R7,A
0035 B4FF47            CJNE    A,#0FFH,?C0006
                                           ; SOURCE LINE # 31
                                           ; SOURCE LINE # 32
0038 E4                CLR     A
0039 900000      R     MOV     DPTR,#tx_buf
003C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 33
003D 900000      R     MOV     DPTR,#i
0040 F0                MOVX    @DPTR,A
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 16  

0041 A3                INC     DPTR
0042 F0                MOVX    @DPTR,A
0043         ?C0007:
                                           ; SOURCE LINE # 34
                                           ; SOURCE LINE # 35
0043 900000      R     MOV     DPTR,#i+01H
0046 E0                MOVX    A,@DPTR
0047 FE                MOV     R6,A
0048 2400        E     ADD     A,#LOW canreg
004A F8                MOV     R0,A
004B E2                MOVX    A,@R0
004C FD                MOV     R5,A
004D 7400        R     MOV     A,#LOW tx_buf+01H
004F 2E                ADD     A,R6
0050 F582              MOV     DPL,A
0052 E4                CLR     A
0053 3400        R     ADDC    A,#HIGH tx_buf+01H
0055 F583              MOV     DPH,A
0057 ED                MOV     A,R5
0058 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 36
0059 900000      R     MOV     DPTR,#i+01H
005C E0                MOVX    A,@DPTR
005D 04                INC     A
005E F0                MOVX    @DPTR,A
005F 7006              JNZ     ?C0059
0061 900000      R     MOV     DPTR,#i
0064 E0                MOVX    A,@DPTR
0065 04                INC     A
0066 F0                MOVX    @DPTR,A
0067         ?C0059:
0067 900000      R     MOV     DPTR,#i
006A E0                MOVX    A,@DPTR
006B 7004              JNZ     ?C0060
006D A3                INC     DPTR
006E E0                MOVX    A,@DPTR
006F 6410              XRL     A,#010H
0071         ?C0060:
0071 70D0              JNZ     ?C0007
0073         ?C0008:
                                           ; SOURCE LINE # 37
0073 900000      R     MOV     DPTR,#tx_len
0076 E4                CLR     A
0077 F0                MOVX    @DPTR,A
0078 A3                INC     DPTR
0079 7411              MOV     A,#011H
007B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 38
007C 020000      R     LJMP    ?C0004
007F         ?C0006:
                                           ; SOURCE LINE # 40
                                           ; SOURCE LINE # 41
007F EF                MOV     A,R7
0080 C3                CLR     C
0081 9400              SUBB    A,#00H
0083 5003              JNC     $ + 5H
0085 020000      R     LJMP    ?C0004
0088 EF                MOV     A,R7
0089 D3                SETB    C
008A 940F              SUBB    A,#0FH
008C 4003              JC      $ + 5H
008E 020000      R     LJMP    ?C0004
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 17  

                                           ; SOURCE LINE # 42
                                           ; SOURCE LINE # 43
0091 900002            MOV     DPTR,#02H
0094 120000      E     LCALL   ?C?CLDOPTR
0097 FF                MOV     R7,A
0098 900000      R     MOV     DPTR,#offset
009B E4                CLR     A
009C F0                MOVX    @DPTR,A
009D A3                INC     DPTR
009E EF                MOV     A,R7
009F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 44
00A0 E0                MOVX    A,@DPTR
00A1 2400        E     ADD     A,#LOW canreg
00A3 F8                MOV     R0,A
00A4 E2                MOVX    A,@R0
00A5 900000      R     MOV     DPTR,#tx_buf
00A8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 45
00A9 900000      R     MOV     DPTR,#tx_len
00AC E4                CLR     A
00AD F0                MOVX    @DPTR,A
00AE A3                INC     DPTR
00AF 04                INC     A
00B0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 46
                                           ; SOURCE LINE # 47
                                           ; SOURCE LINE # 48
00B1 8063              SJMP    ?C0004
                                           ; SOURCE LINE # 49
00B3         ?C0012:
                                           ; SOURCE LINE # 50
00B3 900000      R     MOV     DPTR,#tx_len
00B6 E4                CLR     A
00B7 F0                MOVX    @DPTR,A
00B8 A3                INC     DPTR
00B9 7411              MOV     A,#011H
00BB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 51
00BC 900001            MOV     DPTR,#01H
00BF 120000      E     LCALL   ?C?CLDOPTR
00C2 75F010            MOV     B,#010H
00C5 A4                MUL     AB
00C6 FF                MOV     R7,A
00C7 900000      R     MOV     DPTR,#offset
00CA E5F0              MOV     A,B
00CC F0                MOVX    @DPTR,A
00CD A3                INC     DPTR
00CE EF                MOV     A,R7
00CF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 52
00D0 900001            MOV     DPTR,#01H
00D3 120000      E     LCALL   ?C?CLDOPTR
00D6 900000      R     MOV     DPTR,#tx_buf
00D9 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 53
00DA E4                CLR     A
00DB 900000      R     MOV     DPTR,#i
00DE F0                MOVX    @DPTR,A
00DF A3                INC     DPTR
00E0 F0                MOVX    @DPTR,A
00E1         ?C0013:
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 18  

                                           ; SOURCE LINE # 54
                                           ; SOURCE LINE # 55
00E1 900000      R     MOV     DPTR,#i+01H
00E4 E0                MOVX    A,@DPTR
00E5 FF                MOV     R7,A
00E6 900000      R     MOV     DPTR,#offset+01H
00E9 E0                MOVX    A,@DPTR
00EA 2F                ADD     A,R7
00EB 2400        E     ADD     A,#LOW canreg
00ED F8                MOV     R0,A
00EE E2                MOVX    A,@R0
00EF FE                MOV     R6,A
00F0 7400        R     MOV     A,#LOW tx_buf+01H
00F2 2F                ADD     A,R7
00F3 F582              MOV     DPL,A
00F5 E4                CLR     A
00F6 3400        R     ADDC    A,#HIGH tx_buf+01H
00F8 F583              MOV     DPH,A
00FA EE                MOV     A,R6
00FB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 56
00FC 900000      R     MOV     DPTR,#i+01H
00FF E0                MOVX    A,@DPTR
0100 04                INC     A
0101 F0                MOVX    @DPTR,A
0102 7006              JNZ     ?C0061
0104 900000      R     MOV     DPTR,#i
0107 E0                MOVX    A,@DPTR
0108 04                INC     A
0109 F0                MOVX    @DPTR,A
010A         ?C0061:
010A 900000      R     MOV     DPTR,#i
010D E0                MOVX    A,@DPTR
010E 7004              JNZ     ?C0062
0110 A3                INC     DPTR
0111 E0                MOVX    A,@DPTR
0112 6410              XRL     A,#010H
0114         ?C0062:
0114 70CB              JNZ     ?C0013
                                           ; SOURCE LINE # 57
                                           ; SOURCE LINE # 58
0116         ?C0004:
                                           ; SOURCE LINE # 60
0116 900000      R     MOV     DPTR,#tx_len
0119 E0                MOVX    A,@DPTR
011A FC                MOV     R4,A
011B A3                INC     DPTR
011C E0                MOVX    A,@DPTR
011D FD                MOV     R5,A
011E D3                SETB    C
011F 9400              SUBB    A,#00H
0121 EC                MOV     A,R4
0122 6480              XRL     A,#080H
0124 9480              SUBB    A,#080H
0126 4009              JC      ?C0002
                                           ; SOURCE LINE # 61
                                           ; SOURCE LINE # 62
0128 7B01              MOV     R3,#01H
012A 7A00        R     MOV     R2,#HIGH tx_buf
012C 7900        R     MOV     R1,#LOW tx_buf
012E 120000      E     LCALL   _TransmitMessage
                                           ; SOURCE LINE # 63
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 19  

                                           ; SOURCE LINE # 65
0131         ?C0002:
0131 22                RET     
             ; FUNCTION _register_display (END)

             ; FUNCTION _register_set (BEGIN)
                                           ; SOURCE LINE # 69
0000 900000      R     MOV     DPTR,#recv_data
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
;---- Variable 'len' assigned to Register 'R4/R5' ----
                                           ; SOURCE LINE # 70
                                           ; SOURCE LINE # 71
000B E4                CLR     A
000C A3                INC     DPTR
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 75
0010 C3                CLR     C
0011 ED                MOV     A,R5
0012 9404              SUBB    A,#04H
0014 EC                MOV     A,R4
0015 6480              XRL     A,#080H
0017 9480              SUBB    A,#080H
0019 5003              JNC     $ + 5H
001B 020000      R     LJMP    ?C0018
                                           ; SOURCE LINE # 76
                                           ; SOURCE LINE # 78
001E         ?C0017:
                                           ; SOURCE LINE # 80
001E 900000      R     MOV     DPTR,#recv_data
0021 E0                MOVX    A,@DPTR
0022 FB                MOV     R3,A
0023 A3                INC     DPTR
0024 E0                MOVX    A,@DPTR
0025 FA                MOV     R2,A
0026 A3                INC     DPTR
0027 E0                MOVX    A,@DPTR
0028 F9                MOV     R1,A
0029 900001            MOV     DPTR,#01H
002C 120000      E     LCALL   ?C?CLDOPTR
002F FF                MOV     R7,A
0030 D3                SETB    C
0031 940F              SUBB    A,#0FH
0033 4003              JC      $ + 5H
0035 020000      R     LJMP    ?C0018
                                           ; SOURCE LINE # 81
                                           ; SOURCE LINE # 83
0038         ?C0019:
                                           ; SOURCE LINE # 85
0038 EF                MOV     A,R7
0039 75F010            MOV     B,#010H
003C A4                MUL     AB
003D FF                MOV     R7,A
003E 900000      R     MOV     DPTR,#offset
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 20  

0041 E5F0              MOV     A,B
0043 F0                MOVX    @DPTR,A
0044 A3                INC     DPTR
0045 EF                MOV     A,R7
0046 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 87
0047 900002            MOV     DPTR,#02H
004A 120000      E     LCALL   ?C?CLDOPTR
004D F4                CPL     A
004E 6003              JZ      $ + 5H
0050 020000      R     LJMP    ?C0020
                                           ; SOURCE LINE # 88
                                           ; SOURCE LINE # 89
0053 900000      R     MOV     DPTR,#i
0056 F0                MOVX    @DPTR,A
0057 A3                INC     DPTR
0058 F0                MOVX    @DPTR,A
0059         ?C0021:
0059 900000      R     MOV     DPTR,#i
005C E0                MOVX    A,@DPTR
005D FE                MOV     R6,A
005E A3                INC     DPTR
005F E0                MOVX    A,@DPTR
0060 FF                MOV     R7,A
0061 C3                CLR     C
0062 9410              SUBB    A,#010H
0064 EE                MOV     A,R6
0065 6480              XRL     A,#080H
0067 9480              SUBB    A,#080H
0069 4003              JC      $ + 5H
006B 020000      R     LJMP    ?C0018
                                           ; SOURCE LINE # 90
                                           ; SOURCE LINE # 92
006E 900000      R     MOV     DPTR,#recv_data
0071 E0                MOVX    A,@DPTR
0072 FB                MOV     R3,A
0073 A3                INC     DPTR
0074 E0                MOVX    A,@DPTR
0075 FA                MOV     R2,A
0076 A3                INC     DPTR
0077 E0                MOVX    A,@DPTR
0078 F9                MOV     R1,A
0079 8F82              MOV     DPL,R7
007B 8E83              MOV     DPH,R6
007D A3                INC     DPTR
007E A3                INC     DPTR
007F A3                INC     DPTR
0080 120000      E     LCALL   ?C?CLDOPTR
0083 FF                MOV     R7,A
0084 900000      R     MOV     DPTR,#i+01H
0087 E0                MOVX    A,@DPTR
0088 FE                MOV     R6,A
0089 900000      R     MOV     DPTR,#offset+01H
008C E0                MOVX    A,@DPTR
008D 2E                ADD     A,R6
008E 2400        E     ADD     A,#LOW canreg
0090 F8                MOV     R0,A
0091 EF                MOV     A,R7
0092 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 93
0093 900000      R     MOV     DPTR,#offset
0096 E0                MOVX    A,@DPTR
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 21  

0097 7002              JNZ     ?C0063
0099 A3                INC     DPTR
009A E0                MOVX    A,@DPTR
009B         ?C0063:
009B 6003              JZ      $ + 5H
009D 020000      R     LJMP    ?C0023
00A0 900000      R     MOV     DPTR,#i
00A3 E0                MOVX    A,@DPTR
00A4 7004              JNZ     ?C0064
00A6 A3                INC     DPTR
00A7 E0                MOVX    A,@DPTR
00A8 6404              XRL     A,#04H
00AA         ?C0064:
00AA 7071              JNZ     ?C0023
                                           ; SOURCE LINE # 94
00AC 900000      R     MOV     DPTR,#offset+01H
00AF E0                MOVX    A,@DPTR
00B0 FF                MOV     R7,A
00B1 2400        E     ADD     A,#LOW canreg
00B3 F8                MOV     R0,A
00B4 7441              MOV     A,#041H
00B6 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 95
00B7 900000      R     MOV     DPTR,#recv_data
00BA E0                MOVX    A,@DPTR
00BB FB                MOV     R3,A
00BC A3                INC     DPTR
00BD E0                MOVX    A,@DPTR
00BE FA                MOV     R2,A
00BF A3                INC     DPTR
00C0 E0                MOVX    A,@DPTR
00C1 F9                MOV     R1,A
00C2 900000      R     MOV     DPTR,#i+01H
00C5 E0                MOVX    A,@DPTR
00C6 2403              ADD     A,#03H
00C8 FD                MOV     R5,A
00C9 900000      R     MOV     DPTR,#i
00CC E0                MOVX    A,@DPTR
00CD 3400              ADDC    A,#00H
00CF 8D82              MOV     DPL,R5
00D1 F583              MOV     DPH,A
00D3 120000      E     LCALL   ?C?CLDOPTR
00D6 FE                MOV     R6,A
00D7 900000      R     MOV     DPTR,#i+01H
00DA E0                MOVX    A,@DPTR
00DB FD                MOV     R5,A
00DC EF                MOV     A,R7
00DD 2D                ADD     A,R5
00DE 2400        E     ADD     A,#LOW canreg
00E0 F8                MOV     R0,A
00E1 EE                MOV     A,R6
00E2 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 96
00E3 E0                MOVX    A,@DPTR
00E4 04                INC     A
00E5 F0                MOVX    @DPTR,A
00E6 7006              JNZ     ?C0065
00E8 900000      R     MOV     DPTR,#i
00EB E0                MOVX    A,@DPTR
00EC 04                INC     A
00ED F0                MOVX    @DPTR,A
00EE         ?C0065:
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 22  

                                           ; SOURCE LINE # 97
00EE 900000      R     MOV     DPTR,#i+01H
00F1 E0                MOVX    A,@DPTR
00F2 2403              ADD     A,#03H
00F4 FD                MOV     R5,A
00F5 900000      R     MOV     DPTR,#i
00F8 E0                MOVX    A,@DPTR
00F9 3400              ADDC    A,#00H
00FB 8D82              MOV     DPL,R5
00FD F583              MOV     DPH,A
00FF 120000      E     LCALL   ?C?CLDOPTR
0102 FE                MOV     R6,A
0103 900000      R     MOV     DPTR,#i+01H
0106 E0                MOVX    A,@DPTR
0107 2F                ADD     A,R7
0108 2400        E     ADD     A,#LOW canreg
010A F8                MOV     R0,A
010B EE                MOV     A,R6
010C F2                MOVX    @R0,A
                                           ; SOURCE LINE # 98
010D 900003            MOV     DPTR,#03H
0110 120000      E     LCALL   ?C?CLDOPTR
0113 FF                MOV     R7,A
0114 900000      R     MOV     DPTR,#offset+01H
0117 E0                MOVX    A,@DPTR
0118 2400        E     ADD     A,#LOW canreg
011A F8                MOV     R0,A
011B EF                MOV     A,R7
011C F2                MOVX    @R0,A
                                           ; SOURCE LINE # 99
                                           ; SOURCE LINE # 100
011D         ?C0023:
011D 900000      R     MOV     DPTR,#i+01H
0120 E0                MOVX    A,@DPTR
0121 04                INC     A
0122 F0                MOVX    @DPTR,A
0123 7006              JNZ     ?C0066
0125 900000      R     MOV     DPTR,#i
0128 E0                MOVX    A,@DPTR
0129 04                INC     A
012A F0                MOVX    @DPTR,A
012B         ?C0066:
012B 020000      R     LJMP    ?C0021
                                           ; SOURCE LINE # 101
012E         ?C0020:
                                           ; SOURCE LINE # 104
                                           ; SOURCE LINE # 105
012E 900000      R     MOV     DPTR,#recv_data
0131 E0                MOVX    A,@DPTR
0132 FB                MOV     R3,A
0133 A3                INC     DPTR
0134 E0                MOVX    A,@DPTR
0135 FA                MOV     R2,A
0136 A3                INC     DPTR
0137 E0                MOVX    A,@DPTR
0138 F9                MOV     R1,A
0139 900002            MOV     DPTR,#02H
013C 120000      E     LCALL   ?C?CLDOPTR
013F FF                MOV     R7,A
0140 900000      R     MOV     DPTR,#offset+01H
0143 E0                MOVX    A,@DPTR
0144 2F                ADD     A,R7
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 23  

0145 F0                MOVX    @DPTR,A
0146 900000      R     MOV     DPTR,#offset
0149 E0                MOVX    A,@DPTR
014A 3400              ADDC    A,#00H
014C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 106
014D 900003            MOV     DPTR,#03H
0150 120000      E     LCALL   ?C?CLDOPTR
0153 FF                MOV     R7,A
0154 900000      R     MOV     DPTR,#offset+01H
0157 E0                MOVX    A,@DPTR
0158 FE                MOV     R6,A
0159 2400        E     ADD     A,#LOW canreg
015B F8                MOV     R0,A
015C EF                MOV     A,R7
015D F2                MOVX    @R0,A
                                           ; SOURCE LINE # 107
015E 900004            MOV     DPTR,#04H
0161 120000      E     LCALL   ?C?CLDOPTR
0164 FF                MOV     R7,A
0165 7400        E     MOV     A,#LOW canreg+01H
0167 2E                ADD     A,R6
0168 F8                MOV     R0,A
0169 EF                MOV     A,R7
016A F2                MOVX    @R0,A
                                           ; SOURCE LINE # 108
                                           ; SOURCE LINE # 109
016B         ?C0018:
016B 22                RET     
             ; FUNCTION _register_set (END)

             ; FUNCTION _canmsg_data_set (BEGIN)
                                           ; SOURCE LINE # 112
0000 900000      R     MOV     DPTR,#recv_data
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
;---- Variable 'len' assigned to Register 'R4/R5' ----
                                           ; SOURCE LINE # 113
                                           ; SOURCE LINE # 114
000B E4                CLR     A
000C A3                INC     DPTR
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 115
0010 A3                INC     DPTR
0011 F0                MOVX    @DPTR,A
0012 A3                INC     DPTR
0013 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 118
0014 900000      R     MOV     DPTR,#recv_data
0017 E0                MOVX    A,@DPTR
0018 FB                MOV     R3,A
0019 A3                INC     DPTR
001A E0                MOVX    A,@DPTR
001B FA                MOV     R2,A
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 24  

001C A3                INC     DPTR
001D E0                MOVX    A,@DPTR
001E F9                MOV     R1,A
001F 900001            MOV     DPTR,#01H
0022 120000      E     LCALL   ?C?CLDOPTR
0025 FF                MOV     R7,A
0026 D3                SETB    C
0027 940F              SUBB    A,#0FH
0029 4003              JC      $ + 5H
002B 020000      R     LJMP    ?C0028
002E EF                MOV     A,R7
002F 7003              JNZ     $ + 5H
0031 020000      R     LJMP    ?C0028
                                           ; SOURCE LINE # 119
                                           ; SOURCE LINE # 121
0034         ?C0026:
                                           ; SOURCE LINE # 122
0034 D3                SETB    C
0035 ED                MOV     A,R5
0036 9464              SUBB    A,#064H
0038 EC                MOV     A,R4
0039 6480              XRL     A,#080H
003B 9480              SUBB    A,#080H
003D 4003              JC      $ + 5H
003F 020000      R     LJMP    ?C0028
                                           ; SOURCE LINE # 123
                                           ; SOURCE LINE # 125
0042         ?C0029:
                                           ; SOURCE LINE # 127
0042 900001            MOV     DPTR,#01H
0045 120000      E     LCALL   ?C?CLDOPTR
0048 75F010            MOV     B,#010H
004B A4                MUL     AB
004C FF                MOV     R7,A
004D AEF0              MOV     R6,B
004F 900000      R     MOV     DPTR,#offset
0052 EE                MOV     A,R6
0053 F0                MOVX    @DPTR,A
0054 A3                INC     DPTR
0055 EF                MOV     A,R7
0056 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 128
0057 2407              ADD     A,#07H
0059 900000      R     MOV     DPTR,#data_offset+01H
005C F0                MOVX    @DPTR,A
005D E4                CLR     A
005E 3E                ADDC    A,R6
005F 900000      R     MOV     DPTR,#data_offset
0062 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 131
0063 900000      R     MOV     DPTR,#offset+01H
0066 E0                MOVX    A,@DPTR
0067 FF                MOV     R7,A
0068 2400        E     ADD     A,#LOW canreg
006A F8                MOV     R0,A
006B 7455              MOV     A,#055H
006D F2                MOVX    @R0,A
                                           ; SOURCE LINE # 132
006E 7400        E     MOV     A,#LOW canreg+01H
0070 2F                ADD     A,R7
0071 F8                MOV     R0,A
0072 7459              MOV     A,#059H
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 25  

0074 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 134
0075 900002            MOV     DPTR,#02H
0078 120000      E     LCALL   ?C?CLDOPTR
007B FE                MOV     R6,A
007C 7400        E     MOV     A,#LOW canreg+06H
007E 2F                ADD     A,R7
007F F8                MOV     R0,A
0080 EE                MOV     A,R6
0081 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 136
0082 E4                CLR     A
0083 900000      R     MOV     DPTR,#i
0086 F0                MOVX    @DPTR,A
0087 A3                INC     DPTR
0088 F0                MOVX    @DPTR,A
0089         ?C0030:
0089 900000      R     MOV     DPTR,#i
008C E0                MOVX    A,@DPTR
008D FE                MOV     R6,A
008E A3                INC     DPTR
008F E0                MOVX    A,@DPTR
0090 FF                MOV     R7,A
0091 C3                CLR     C
0092 9408              SUBB    A,#08H
0094 EE                MOV     A,R6
0095 6480              XRL     A,#080H
0097 9480              SUBB    A,#080H
0099 5035              JNC     ?C0031
                                           ; SOURCE LINE # 137
                                           ; SOURCE LINE # 138
009B 900000      R     MOV     DPTR,#recv_data
009E E0                MOVX    A,@DPTR
009F FB                MOV     R3,A
00A0 A3                INC     DPTR
00A1 E0                MOVX    A,@DPTR
00A2 FA                MOV     R2,A
00A3 A3                INC     DPTR
00A4 E0                MOVX    A,@DPTR
00A5 F9                MOV     R1,A
00A6 8F82              MOV     DPL,R7
00A8 8E83              MOV     DPH,R6
00AA A3                INC     DPTR
00AB A3                INC     DPTR
00AC A3                INC     DPTR
00AD 120000      E     LCALL   ?C?CLDOPTR
00B0 FF                MOV     R7,A
00B1 900000      R     MOV     DPTR,#i+01H
00B4 E0                MOVX    A,@DPTR
00B5 FE                MOV     R6,A
00B6 900000      R     MOV     DPTR,#data_offset+01H
00B9 E0                MOVX    A,@DPTR
00BA 2E                ADD     A,R6
00BB 2400        E     ADD     A,#LOW canreg
00BD F8                MOV     R0,A
00BE EF                MOV     A,R7
00BF F2                MOVX    @R0,A
                                           ; SOURCE LINE # 139
00C0 900000      R     MOV     DPTR,#i+01H
00C3 E0                MOVX    A,@DPTR
00C4 04                INC     A
00C5 F0                MOVX    @DPTR,A
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 26  

00C6 70C1              JNZ     ?C0030
00C8 900000      R     MOV     DPTR,#i
00CB E0                MOVX    A,@DPTR
00CC 04                INC     A
00CD F0                MOVX    @DPTR,A
00CE         ?C0067:
00CE 80B9              SJMP    ?C0030
00D0         ?C0031:
                                           ; SOURCE LINE # 141
00D0 900000      R     MOV     DPTR,#offset+01H
00D3 E0                MOVX    A,@DPTR
00D4 FF                MOV     R7,A
00D5 2400        E     ADD     A,#LOW canreg
00D7 F8                MOV     R0,A
00D8 74A9              MOV     A,#0A9H
00DA F2                MOVX    @R0,A
                                           ; SOURCE LINE # 142
00DB 7400        E     MOV     A,#LOW canreg+01H
00DD 2F                ADD     A,R7
00DE F8                MOV     R0,A
00DF 74F6              MOV     A,#0F6H
00E1 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 143
00E2         ?C0028:
00E2 22                RET     
             ; FUNCTION _canmsg_data_set (END)

             ; FUNCTION main (BEGIN)
                                           ; SOURCE LINE # 177
                                           ; SOURCE LINE # 178
                                           ; SOURCE LINE # 180
0000 E4                CLR     A
0001 900000      R     MOV     DPTR,#rx_len
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 F0                MOVX    @DPTR,A
0007 A3                INC     DPTR
0008 F0                MOVX    @DPTR,A
0009 A3                INC     DPTR
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 189
000B 120000      E     LCALL   Init_UART
                                           ; SOURCE LINE # 190
000E 120000      E     LCALL   Init_Timer
                                           ; SOURCE LINE # 191
0011 120000      E     LCALL   Init_CAN
                                           ; SOURCE LINE # 192
0014 120000      E     LCALL   Init_LED
                                           ; SOURCE LINE # 194
0017 E4                CLR     A
0018 900000      R     MOV     DPTR,#rx_char
001B F0                MOVX    @DPTR,A
001C         ?C0033:
                                           ; SOURCE LINE # 195
001C 900000      E     MOV     DPTR,#start
001F E0                MOVX    A,@DPTR
0020 60FA              JZ      ?C0033
0022         ?C0035:
                                           ; SOURCE LINE # 196
                                           ; SOURCE LINE # 197
                                           ; SOURCE LINE # 198
0022 900000      E     MOV     DPTR,#alive_flag
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 27  

0025 E0                MOVX    A,@DPTR
0026 6401              XRL     A,#01H
0028 703B              JNZ     ?C0037
                                           ; SOURCE LINE # 199
002A D3                SETB    C
002B 900000      R     MOV     DPTR,#tx_uart_count+01H
002E E0                MOVX    A,@DPTR
002F 9403              SUBB    A,#03H
0031 900000      R     MOV     DPTR,#tx_uart_count
0034 E0                MOVX    A,@DPTR
0035 6480              XRL     A,#080H
0037 9480              SUBB    A,#080H
0039 4008              JC      ?C0038
                                           ; SOURCE LINE # 200
003B C28C              CLR     TR0
                                           ; SOURCE LINE # 201
003D E4                CLR     A
003E F0                MOVX    @DPTR,A
003F A3                INC     DPTR
0040 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 202
0041 8022              SJMP    ?C0037
0043         ?C0038:
                                           ; SOURCE LINE # 203
                                           ; SOURCE LINE # 204
0043 7B01              MOV     R3,#01H
0045 7A00        E     MOV     R2,#HIGH alive_buf
0047 7900        E     MOV     R1,#LOW alive_buf
0049 7D02              MOV     R5,#02H
004B 7C00              MOV     R4,#00H
004D 120000      E     LCALL   _TransmitMessage
                                           ; SOURCE LINE # 205
0050 E4                CLR     A
0051 900000      E     MOV     DPTR,#alive_flag
0054 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 206
0055 900000      R     MOV     DPTR,#tx_uart_count+01H
0058 E0                MOVX    A,@DPTR
0059 04                INC     A
005A F0                MOVX    @DPTR,A
005B 7006              JNZ     ?C0068
005D 900000      R     MOV     DPTR,#tx_uart_count
0060 E0                MOVX    A,@DPTR
0061 04                INC     A
0062 F0                MOVX    @DPTR,A
0063         ?C0068:
                                           ; SOURCE LINE # 207
0063 B2ED              CPL     INT8
                                           ; SOURCE LINE # 208
                                           ; SOURCE LINE # 209
0065         ?C0037:
                                           ; SOURCE LINE # 210
0065 900000      E     MOV     DPTR,#error_flag
0068 E0                MOVX    A,@DPTR
0069 7004              JNZ     ?C0069
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D 6401              XRL     A,#01H
006F         ?C0069:
006F 7008              JNZ     ?C0040
                                           ; SOURCE LINE # 212
0071 B2EC              CPL     SLS
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 28  

                                           ; SOURCE LINE # 213
0073 900000      E     MOV     DPTR,#error_flag
0076 F0                MOVX    @DPTR,A
0077 A3                INC     DPTR
0078 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 214
0079         ?C0040:
                                           ; SOURCE LINE # 215
0079 900000      E     MOV     DPTR,#RecvData
007C E0                MOVX    A,@DPTR
007D B40118            CJNE    A,#01H,?C0041
                                           ; SOURCE LINE # 216
0080 7B01              MOV     R3,#01H
0082 7A00        E     MOV     R2,#HIGH RecvData+03H
0084 7900        E     MOV     R1,#LOW RecvData+03H
0086 A3                INC     DPTR
0087 E0                MOVX    A,@DPTR
0088 FC                MOV     R4,A
0089 A3                INC     DPTR
008A E0                MOVX    A,@DPTR
008B FD                MOV     R5,A
008C 120000      E     LCALL   _TransmitMessage
                                           ; SOURCE LINE # 217
008F E4                CLR     A
0090 900000      E     MOV     DPTR,#RecvData
0093 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 218
0094 A3                INC     DPTR
0095 F0                MOVX    @DPTR,A
0096 A3                INC     DPTR
0097 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 219
0098         ?C0041:
                                           ; SOURCE LINE # 220
0098 309887            JNB     RI,?C0035
                                           ; SOURCE LINE # 221
009B 120000      E     LCALL   ReadChar
009E 900000      R     MOV     DPTR,#rx_char
00A1 EF                MOV     A,R7
00A2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 222
00A3 7B01              MOV     R3,#01H
00A5 7A00        R     MOV     R2,#HIGH rx_buf
00A7 7900        R     MOV     R1,#LOW rx_buf
00A9 120000      E     LCALL   _SLIP_Decode_Frame
00AC 900000      R     MOV     DPTR,#rx_len
00AF EE                MOV     A,R6
00B0 F0                MOVX    @DPTR,A
00B1 A3                INC     DPTR
00B2 EF                MOV     A,R7
00B3 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 224
00B4 D3                SETB    C
00B5 9400              SUBB    A,#00H
00B7 EE                MOV     A,R6
00B8 6480              XRL     A,#080H
00BA 9480              SUBB    A,#080H
00BC 5003              JNC     $ + 5H
00BE 020000      R     LJMP    ?C0035
                                           ; SOURCE LINE # 225
                                           ; SOURCE LINE # 226
00C1 7B01              MOV     R3,#01H
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 29  

00C3 7A00        R     MOV     R2,#HIGH rx_buf
00C5 7900        R     MOV     R1,#LOW rx_buf
00C7 900000      R     MOV     DPTR,#rx_len
00CA E0                MOVX    A,@DPTR
00CB FC                MOV     R4,A
00CC A3                INC     DPTR
00CD E0                MOVX    A,@DPTR
00CE FD                MOV     R5,A
00CF 120000      E     LCALL   _check_crc
00D2 EF                MOV     A,R7
00D3 6401              XRL     A,#01H
00D5 4E                ORL     A,R6
00D6 6003              JZ      $ + 5H
00D8 020000      R     LJMP    ?C0044
                                           ; SOURCE LINE # 227
                                           ; SOURCE LINE # 228
00DB 900000      R     MOV     DPTR,#rx_buf
00DE E0                MOVX    A,@DPTR
00DF 14                DEC     A
00E0 6032              JZ      ?C0047
00E2 14                DEC     A
00E3 6042              JZ      ?C0048
00E5 14                DEC     A
00E6 604B              JZ      ?C0049
00E8 14                DEC     A
00E9 605B              JZ      ?C0050
00EB 24F4              ADD     A,#0F4H
00ED 605C              JZ      ?C0051
00EF 24F0              ADD     A,#0F0H
00F1 6076              JZ      ?C0053
00F3 2421              ADD     A,#021H
00F5 7003              JNZ     $ + 5H
00F7 020000      R     LJMP    ?C0056
00FA 14                DEC     A
00FB 6003              JZ      $ + 5H
00FD 020000      R     LJMP    ?C0044
                                           ; SOURCE LINE # 229
                                           ; SOURCE LINE # 230
0100         ?C0046:
                                           ; SOURCE LINE # 231
0100 7B01              MOV     R3,#01H
0102 7A00        R     MOV     R2,#HIGH rx_buf
0104 7900        R     MOV     R1,#LOW rx_buf
0106 900000      R     MOV     DPTR,#rx_len
0109 E0                MOVX    A,@DPTR
010A FC                MOV     R4,A
010B A3                INC     DPTR
010C E0                MOVX    A,@DPTR
010D FD                MOV     R5,A
010E 120000      R     LCALL   _register_display
                                           ; SOURCE LINE # 232
0111 020000      R     LJMP    ?C0044
                                           ; SOURCE LINE # 233
0114         ?C0047:
                                           ; SOURCE LINE # 234
0114 7B01              MOV     R3,#01H
0116 7A00        R     MOV     R2,#HIGH rx_buf
0118 7900        R     MOV     R1,#LOW rx_buf
011A 900000      R     MOV     DPTR,#rx_len
011D E0                MOVX    A,@DPTR
011E FC                MOV     R4,A
011F A3                INC     DPTR
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 30  

0120 E0                MOVX    A,@DPTR
0121 FD                MOV     R5,A
0122 120000      R     LCALL   _register_set
                                           ; SOURCE LINE # 235
0125 807A              SJMP    ?C0044
                                           ; SOURCE LINE # 236
0127         ?C0048:
                                           ; SOURCE LINE # 237
0127 900000      R     MOV     DPTR,#rx_buf+01H
012A E0                MOVX    A,@DPTR
012B FF                MOV     R7,A
012C 7E00              MOV     R6,#00H
012E 120000      E     LCALL   _canmsg_transmit
                                           ; SOURCE LINE # 238
0131 806E              SJMP    ?C0044
                                           ; SOURCE LINE # 239
0133         ?C0049:
                                           ; SOURCE LINE # 240
0133 7B01              MOV     R3,#01H
0135 7A00        R     MOV     R2,#HIGH rx_buf
0137 7900        R     MOV     R1,#LOW rx_buf
0139 900000      R     MOV     DPTR,#rx_len
013C E0                MOVX    A,@DPTR
013D FC                MOV     R4,A
013E A3                INC     DPTR
013F E0                MOVX    A,@DPTR
0140 FD                MOV     R5,A
0141 120000      R     LCALL   _canmsg_data_set
                                           ; SOURCE LINE # 241
0144 805B              SJMP    ?C0044
                                           ; SOURCE LINE # 242
0146         ?C0050:
                                           ; SOURCE LINE # 243
0146 120000      E     LCALL   Init_CAN
                                           ; SOURCE LINE # 244
0149 8056              SJMP    ?C0044
                                           ; SOURCE LINE # 245
014B         ?C0051:
                                           ; SOURCE LINE # 246
014B 7B01              MOV     R3,#01H
014D 7A00        R     MOV     R2,#HIGH rx_buf
014F 7900        R     MOV     R1,#LOW rx_buf
0151 900000      R     MOV     DPTR,#rx_len+01H
0154 E0                MOVX    A,@DPTR
0155 24FE              ADD     A,#0FEH
0157 FD                MOV     R5,A
0158 900000      R     MOV     DPTR,#rx_len
015B E0                MOVX    A,@DPTR
015C 34FF              ADDC    A,#0FFH
015E FC                MOV     R4,A
015F 120000      E     LCALL   _Transmit_CAN_MSG
                                           ; SOURCE LINE # 247
0162 208C3C            JB      TR0,?C0044
                                           ; SOURCE LINE # 248
0165 D28C              SETB    TR0
                                           ; SOURCE LINE # 249
0167 8038              SJMP    ?C0044
                                           ; SOURCE LINE # 250
0169         ?C0053:
                                           ; SOURCE LINE # 251
0169 208C02            JB      TR0,?C0054
                                           ; SOURCE LINE # 252
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 31  

016C D28C              SETB    TR0
016E         ?C0054:
                                           ; SOURCE LINE # 253
016E 900000      R     MOV     DPTR,#rx_buf+03H
0171 E0                MOVX    A,@DPTR
0172 B42F07            CJNE    A,#02FH,?C0055
                                           ; SOURCE LINE # 254
0175 E4                CLR     A
0176 900000      R     MOV     DPTR,#tx_uart_count
0179 F0                MOVX    @DPTR,A
017A A3                INC     DPTR
017B F0                MOVX    @DPTR,A
017C         ?C0055:
                                           ; SOURCE LINE # 255
017C 7B01              MOV     R3,#01H
017E 7A00        R     MOV     R2,#HIGH rx_buf
0180 7900        R     MOV     R1,#LOW rx_buf
0182 900000      R     MOV     DPTR,#rx_len+01H
0185 E0                MOVX    A,@DPTR
0186 24FE              ADD     A,#0FEH
0188 FD                MOV     R5,A
0189 900000      R     MOV     DPTR,#rx_len
018C E0                MOVX    A,@DPTR
018D 34FF              ADDC    A,#0FFH
018F FC                MOV     R4,A
0190 120000      E     LCALL   _Transmit_CAN_MSG
                                           ; SOURCE LINE # 256
0193 800C              SJMP    ?C0044
                                           ; SOURCE LINE # 257
0195         ?C0056:
                                           ; SOURCE LINE # 258
0195 208C02            JB      TR0,?C0057
                                           ; SOURCE LINE # 259
0198 D28C              SETB    TR0
019A         ?C0057:
                                           ; SOURCE LINE # 260
019A E4                CLR     A
019B 900000      R     MOV     DPTR,#tx_uart_count
019E F0                MOVX    @DPTR,A
019F A3                INC     DPTR
01A0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 261
                                           ; SOURCE LINE # 262
01A1         ?C0044:
                                           ; SOURCE LINE # 263
01A1 E4                CLR     A
01A2 900000      R     MOV     DPTR,#rx_len
01A5 F0                MOVX    @DPTR,A
01A6 A3                INC     DPTR
01A7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 264
                                           ; SOURCE LINE # 265
                                           ; SOURCE LINE # 266
01A8 020000      R     LJMP    ?C0035
             ; FUNCTION main (END)

C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 32  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


ReadChar . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
T2I0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C8H  1
_TransmitMessage . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
AC . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D6H  1
T2L1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C9H  1
T0 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B4H  1
T1 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B5H  1
UART_MSG . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  33
  flag . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  rdata. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0003H  30
BD . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DFH  1
_canmsg_data_set . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  recv_data. . . . . . . . . . . . . .  AUTO     XDATA  PTR      0000H  3
  len. . . . . . . . . . . . . . . . .  * REG *  DATA   INT      0004H  2
  offset . . . . . . . . . . . . . . .  AUTO     XDATA  INT      0003H  2
  data_offset. . . . . . . . . . . . .  AUTO     XDATA  INT      0005H  2
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  INT      0007H  2
T2R0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CBH  1
T2R1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CCH  1
EADC . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B8H  1
RecvData . . . . . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  33
_SLIP_Decode_Frame . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
alive_flag . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
IADC . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C0H  1
I2FR . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CDH  1
I3FR . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CEH  1
EXF2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C7H  1
RD . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B7H  1
T2CM . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CAH  1
ECAN . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009BH  1
ES . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ACH  1
IEX2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C1H  1
IEX3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C2H  1
IEX4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C3H  1
RI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0098H  1
CY . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D7H  1
IEX5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C4H  1
INT0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B2H  1
IEX6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C5H  1
INT1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B3H  1
TI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0099H  1
EX6M . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BDH  1
ADEX . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DDH  1
INT8 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00EDH  1
OV . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D2H  1
_register_display. . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  recv_data. . . . . . . . . . . . . .  * REG *  DATA   PTR      0001H  3
  len. . . . . . . . . . . . . . . . .  * REG *  DATA   INT      0004H  2
  tx_buf . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0000H  30
  tx_len . . . . . . . . . . . . . . .  AUTO     XDATA  INT      001EH  2
  offset . . . . . . . . . . . . . . .  AUTO     XDATA  INT      0020H  2
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  INT      0022H  2
main . . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  rx_buf . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0000H  30
  rx_len . . . . . . . . . . . . . . .  AUTO     XDATA  INT      001EH  2
  tx_uart_count. . . . . . . . . . . .  AUTO     XDATA  INT      0020H  2
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 33  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  rx_char. . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0022H  1
WR . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B6H  1
error_flag . . . . . . . . . . . . . .  EXTERN   XDATA  INT      -----  2
T2PS . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CFH  1
ADST . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00E8H  1
SCLK . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00E9H  1
ESSC . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009CH  1
start. . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
RXDC . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00EFH  1
alive_buf. . . . . . . . . . . . . . .  EXTERN   XDATA  ARRAY    -----  3
_Transmit_CAN_MSG. . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Init_UART. . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
TXDC . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00EEH  1
_canmsg_transmit . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
IE0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0089H  1
IE1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008BH  1
SWDT . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BEH  1
Init_CAN . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
ET0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A9H  1
ET1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ABH  1
TF0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008DH  1
ET2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ADH  1
TF1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008FH  1
Init_LED . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
TF2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C6H  1
RB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009AH  1
EX0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A8H  1
IT0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0088H  1
EX1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AAH  1
TB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009BH  1
IT1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008AH  1
P. . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D0H  1
EX2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B9H  1
EX3. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BAH  1
SM0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009FH  1
EX4. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BBH  1
SM1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009EH  1
ADM. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DBH  1
EX5. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BCH  1
EAL. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
SM2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009DH  1
EX7. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009EH  1
RS0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D3H  1
MX0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D8H  1
EX8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009FH  1
RS1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D4H  1
MX1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D9H  1
TR0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008CH  1
MX2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DAH  1
TR1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008EH  1
CLK. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DEH  1
EXEN2. . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BFH  1
REN. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009CH  1
SRI. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00EAH  1
BSY. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DCH  1
RXD. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B0H  1
WDT. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AEH  1
C51 COMPILER V6.14  MAIN                                                                   11/26/2005 20:58:31 PAGE 34  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


TXD. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B1H  1
SLS. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ECH  1
canreg . . . . . . . . . . . . . . . .  EXTERN   PDATA  ARRAY    -----  256
F0 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D5H  1
STO. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00EBH  1
F1 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D1H  1
_register_set. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  recv_data. . . . . . . . . . . . . .  AUTO     XDATA  PTR      0000H  3
  len. . . . . . . . . . . . . . . . .  * REG *  DATA   INT      0004H  2
  offset . . . . . . . . . . . . . . .  AUTO     XDATA  INT      0003H  2
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  INT      0005H  2
Init_Timer . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_check_crc . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1324    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----      87
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
